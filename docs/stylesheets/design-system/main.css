/* ================================================
   DStudio Design System - Main Entry Point
   ================================================
   Implements proper CSS architecture with @layer
   ================================================ */

/* Layer order definition - specificity control */
@layer reset, theme, base, layout, components, utilities;

/* 1. Reset layer - Lowest specificity */
@import url("01-reset.css") layer(reset);

/* 2. Theme layer - CSS custom properties */
@import url("00-tokens.css") layer(theme);
@import url("themes/light.css") layer(theme);
@import url("themes/dark.css") layer(theme);

/* 3. Base layer - Global styles */
@import url("base/global.css") layer(base);

/* 4. Layout layer - Grid and layout systems */
@import url("03-layout.css") layer(layout);

/* 5. Components layer - UI components */
@import url("04-components.css") layer(components);

/* 6. Utilities layer - Highest specificity */
@import url("05-utilities.css") layer(utilities);

/* ================================================
   Custom Overrides for MkDocs Material Theme
   ================================================ */
@layer base {
  /* Header adjustments */
  .md-header {
    background: var(--surface-primary);
    color: var(--text-primary);
    box-shadow: none;
    border-bottom: 1px solid var(--border-subtle);
  }

  .md-header__title {
    font-weight: var(--font-semibold);
  }

  /* Navigation adjustments */
  .md-nav__link {
    color: var(--text-secondary);
    transition: var(--transition-colors);
  }

  .md-nav__link:hover {
    color: var(--text-primary);
  }

  .md-nav__link--active {
    color: var(--primary-600);
    font-weight: var(--font-medium);
  }

  /* Sidebar adjustments */
  .md-sidebar {
    background: var(--surface-secondary);
  }

  .md-sidebar__scrollwrap {
    scrollbar-width: thin;
    scrollbar-color: var(--gray-400) var(--surface-secondary);
  }

  /* Content adjustments */
  .md-content {
    color: var(--text-primary);
  }

  .md-typeset {
    font-size: var(--text-base);
    line-height: var(--leading-relaxed);
  }

  /* Typography overrides */
  .md-typeset h1 {
    font-size: var(--text-4xl);
    font-weight: var(--font-light);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tight);
    color: var(--text-primary);
    margin-bottom: var(--space-4);
  }

  .md-typeset h2 {
    font-size: var(--text-3xl);
    font-weight: var(--font-normal);
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tight);
    color: var(--text-primary);
    margin-bottom: var(--space-3);
  }

  .md-typeset h3 {
    font-size: var(--text-2xl);
    font-weight: var(--font-medium);
    line-height: var(--leading-snug);
    color: var(--text-primary);
    margin-bottom: var(--space-3);
  }

  /* Link styles */
  .md-typeset a {
    color: var(--text-link);
    text-decoration: none;
    transition: var(--transition-colors);
  }

  .md-typeset a:hover {
    color: var(--text-link-hover);
    text-decoration: underline;
  }

  /* Code blocks */
  .md-typeset code {
    font-family: var(--font-mono);
    font-size: 0.875em;
    background: var(--surface-secondary);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-base);
    color: var(--text-primary);
  }

  .md-typeset pre {
    background: var(--surface-secondary);
    border-radius: var(--radius-lg);
    overflow-x: auto;
  }

  /* Tables */
  .md-typeset table {
    border-collapse: collapse;
    border: 1px solid var(--border-subtle);
  }

  .md-typeset table th {
    background: var(--surface-secondary);
    border: 1px solid var(--border-subtle);
    padding: var(--space-3);
    font-weight: var(--font-semibold);
    text-align: left;
  }

  .md-typeset table td {
    border: 1px solid var(--border-subtle);
    padding: var(--space-3);
  }

  /* Admonitions / Callouts */
  .md-typeset .admonition,
  .md-typeset details {
    border-radius: var(--radius-base);
    border-left: 4px solid;
    box-shadow: none;
  }

  .md-typeset .admonition.note,
  .md-typeset details.note {
    border-left-color: var(--info-500);
    background: rgba(var(--info-500-rgb), 0.1);
  }

  /* Footer */
  .md-footer {
    background: var(--surface-primary);
    color: var(--text-secondary);
    border-top: 1px solid var(--border-subtle);
  }

  .md-footer-meta {
    background: var(--surface-primary);
  }

  /* Search */
  .md-search__input {
    background: var(--surface-primary);
    border: 1px solid var(--border-default);
    color: var(--text-primary);
  }

  .md-search__input::placeholder {
    color: var(--text-tertiary);
  }

  .md-search__input:focus {
    border-color: var(--primary-500);
  }
}

/* Dark mode adjustments */
@layer theme {
  [data-md-color-scheme="slate"] {
    .md-header {
      background: var(--surface-primary);
      border-bottom-color: var(--border-subtle);
    }
    
    .md-sidebar {
      background: var(--surface-secondary);
    }
    
    .md-footer {
      background: var(--surface-primary);
      border-top-color: var(--border-subtle);
    }
    
    .md-search__input {
      background: var(--surface-secondary);
      border-color: var(--border-default);
      color: var(--text-primary);
    }
  }
}